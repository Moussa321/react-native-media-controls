{"version":3,"file":"react-native-media-controls.esm.js","sources":["../src/MediaControls.style.ts","../src/constants/playerStates.ts","../src/utils.ts","../src/Controls.tsx","../src/Slider.tsx","../src/Toolbar.tsx","../src/MediaControls.tsx"],"sourcesContent":["import { StyleSheet } from \"react-native\";\n\nconst containerBackgroundColor = \"rgba(45, 59, 62, 0.4)\";\nconst playButtonBorderColor = \"rgba(255,255,255,0.5)\";\nconst white = \"#fff\";\n\nexport default StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    bottom: 0,\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    left: 0,\n    paddingHorizontal: 20,\n    paddingVertical: 13,\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n  },\n  controlsRow: {\n    alignItems: \"center\",\n    alignSelf: \"stretch\",\n    flex: 1,\n    justifyContent: \"center\",\n  },\n  fullScreenContainer: {\n    alignItems: \"center\",\n    alignSelf: \"stretch\",\n    justifyContent: \"center\",\n    paddingLeft: 20,\n  },\n  playButton: {\n    alignItems: \"center\",\n    borderColor: playButtonBorderColor,\n    borderRadius: 3,\n    borderWidth: 1.5,\n    height: 50,\n    justifyContent: \"center\",\n    width: 50,\n  },\n  playIcon: {\n    height: 22,\n    resizeMode: \"contain\",\n    width: 22,\n  },\n  progressColumnContainer: {\n    flex: 1,\n  },\n  progressContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    marginBottom: -25,\n  },\n  progressSlider: {\n    alignSelf: \"stretch\",\n  },\n  replayIcon: {\n    height: 20,\n    resizeMode: \"stretch\",\n    width: 25,\n  },\n  thumb: {\n    backgroundColor: white,\n    borderRadius: 50,\n    borderWidth: 3,\n    height: 20,\n    width: 20,\n  },\n  timeRow: {\n    alignSelf: \"stretch\",\n  },\n  timerLabel: {\n    color: white,\n    fontSize: 12,\n  },\n  timerLabelsContainer: {\n    alignSelf: \"stretch\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginBottom: -7,\n  },\n  toolbar: {\n    flexDirection: \"row\",\n    flex: 1,\n    justifyContent: \"flex-end\",\n  },\n  toolbarRow: {\n    alignItems: \"flex-start\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n  },\n  track: {\n    borderRadius: 1,\n    height: 5,\n  },\n  // **Added Styles**\n  controlsOverlay: {\n    ...StyleSheet.absoluteFillObject,\n    justifyContent: \"space-between\",\n    backgroundColor: containerBackgroundColor,\n    padding: 10,\n  },\n  touchableArea: {\n    ...StyleSheet.absoluteFillObject,\n  },\n});\n","enum PLAYER_STATES {\n  PLAYING = 0,\n  PAUSED = 1,\n  ENDED = 2,\n}\n\nexport { PLAYER_STATES };\n","import { PLAYER_STATES } from \"./constants/playerStates\";\n\nexport const humanizeVideoDuration = (seconds: number) => {\n  const [begin, end] = seconds >= 3600 ? [11, 8] : [14, 5];\n  const date = new Date(0);\n\n  date.setSeconds(seconds);\n  return date.toISOString().substr(begin, end);\n};\n\nexport const noop = () => {};\n\nexport const getPlayerStateIcon = (playerState: PLAYER_STATES) => {\n  switch (playerState) {\n    case PLAYER_STATES.PAUSED:\n      return require(\"./assets/ic_play.png\");\n    case PLAYER_STATES.PLAYING:\n      return require(\"./assets/ic_pause.png\");\n    case PLAYER_STATES.ENDED:\n      return require(\"./assets/ic_replay.png\");\n    default:\n      return null;\n  }\n};\n","import React from \"react\";\nimport { TouchableOpacity, View, ActivityIndicator, Image } from \"react-native\";\nimport styles from \"./MediaControls.style\";\nimport { getPlayerStateIcon } from \"./utils\";\nimport { Props } from \"./MediaControls\";\nimport { PLAYER_STATES } from \"./constants/playerStates\";\n\ntype ControlsProps = Pick<\n  Props,\n  \"isLoading\" | \"mainColor\" | \"playerState\" | \"onReplay\"\n> & {\n  onPause: () => void;\n};\n\nconst Controls = (props: ControlsProps) => {\n  const { isLoading, mainColor, playerState, onReplay, onPause } = props;\n  const icon = getPlayerStateIcon(playerState);\n  const pressAction = playerState === PLAYER_STATES.ENDED ? onReplay : onPause;\n\n  const content = isLoading ? (\n    <ActivityIndicator size=\"large\" color=\"#FFF\" />\n  ) : (\n    <TouchableOpacity\n      style={[styles.playButton, { backgroundColor: mainColor }]}\n      onPress={pressAction}\n      accessibilityLabel={PLAYER_STATES.PAUSED ? \"Tap to Play\" : \"Tap to Pause\"}\n      accessibilityHint={\"Plays and Pauses the Video\"}\n    >\n      <Image source={icon} style={styles.playIcon} />\n    </TouchableOpacity>\n  );\n\n  return <View style={[styles.controlsRow]}>{content}</View>;\n};\n\nexport { Controls };\n","import React from \"react\";\nimport {\n  TouchableOpacity,\n  View,\n  Text,\n  Image,\n  ViewStyle,\n  Platform,\n} from \"react-native\";\nimport styles from \"./MediaControls.style\";\nimport { humanizeVideoDuration } from \"./utils\";\nimport { Props as MediaControlsProps } from \"./MediaControls\";\nimport RNSlider from \"@react-native-community/slider\";\n\nexport type CustomSliderStyle = {\n  containerStyle: ViewStyle;\n  trackStyle: ViewStyle;\n  thumbStyle: ViewStyle;\n};\n\ntype Props = Pick<\n  MediaControlsProps,\n  | \"progress\"\n  | \"duration\"\n  | \"mainColor\"\n  | \"onFullScreen\"\n  | \"playerState\"\n  | \"onSeek\"\n  | \"onSeeking\"\n> & {\n  onPause: () => void;\n  customSliderStyle?: CustomSliderStyle;\n  hideSeekbar?: boolean;\n};\n\nconst fullScreenImage = require(\"./assets/ic_fullscreen.png\");\nconst thumb = require(\"./assets/ic_thumb.png\");\n\nconst Slider = (props: Props) => {\n  const {\n    customSliderStyle,\n    duration,\n    mainColor,\n    onFullScreen,\n    onPause,\n    progress,\n    hideSeekbar,\n  } = props;\n\n  const containerStyle = customSliderStyle?.containerStyle || {};\n\n\n  const seekVideo = (value: number) => {\n    props.onSeek(value);\n    onPause();\n  };\n\n  return (\n    <View\n      style={[styles.controlsRow, styles.progressContainer, containerStyle]}\n    >\n      <View style={styles.progressColumnContainer}>\n        {!hideSeekbar && (\n          <View style={[styles.timerLabelsContainer]}>\n            <Text style={styles.timerLabel}>\n              {humanizeVideoDuration(progress)}\n            </Text>\n            <Text style={styles.timerLabel}>\n              {humanizeVideoDuration(duration)}\n            </Text>\n          </View>\n        )}\n        {!hideSeekbar && (\n          <RNSlider\n            style={[\n              styles.progressSlider,\n              { marginTop: Platform.OS == \"ios\" ? 4 : 12, marginBottom: Platform.OS == \"ios\" ? 0 : 6 },\n            ]}\n            onSlidingComplete={seekVideo}\n            maximumValue={Math.floor(duration)}\n            thumbImage={thumb}\n            value={Math.floor(progress)}\n            minimumTrackTintColor={mainColor}\n            maximumTrackTintColor={\"#AEB3B7\"}\n          />\n        )}\n      </View>\n      {Boolean(onFullScreen) && (\n        <TouchableOpacity\n          style={styles.fullScreenContainer}\n          onPress={onFullScreen}\n        >\n          <Image source={fullScreenImage} />\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n};\n\nexport { Slider };\n","import React from \"react\";\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nconst Toolbar = ({ children }: Props) => <>{children}</>;\n\nexport { Toolbar };\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport {\n  View,\n  GestureResponderEvent,\n  ViewStyle,\n  TouchableWithoutFeedback,\n} from \"react-native\";\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withTiming,\n  withDelay,\n  runOnJS,\n} from \"react-native-reanimated\";\nimport styles from \"./MediaControls.style\";\nimport { PLAYER_STATES } from \"./constants/playerStates\";\nimport { Controls } from \"./Controls\";\nimport { Slider, CustomSliderStyle } from \"./Slider\";\nimport { Toolbar } from \"./Toolbar\";\n\n// Define Props as per your original definition\nexport type Props = {\n  children: React.ReactNode;\n  containerStyle?: ViewStyle;\n  duration: number;\n  fadeOutDelay?: number;\n  isFullScreen: boolean;\n  isLoading: boolean;\n  mainColor: string;\n  onFullScreen?: (event: GestureResponderEvent) => void;\n  onPaused: (playerState: PLAYER_STATES) => void;\n  onReplay: () => void;\n  onSeek: (value: number) => void;\n  onSeeking: (value: number) => void;\n  playerState: PLAYER_STATES;\n  progress: number;\n  showOnStart?: boolean;\n  showOnLoad?: boolean;\n  sliderStyle?: CustomSliderStyle;\n  toolbarStyle?: ViewStyle;\n  hideSeekbar?: boolean;\n};\n\n// Extend React.FC<Props> to include Toolbar\ninterface MediaControlsComponent extends React.FC<Props> {\n  Toolbar: typeof Toolbar;\n}\n\nconst MediaControls: MediaControlsComponent = props => {\n  const {\n    children,\n    containerStyle = {},\n    duration,\n    fadeOutDelay = 5000,\n    isLoading = false,\n    mainColor = \"rgba(12, 83, 175, 0.9)\",\n    onFullScreen,\n    onReplay: onReplayCallback,\n    onSeek,\n    onSeeking,\n    playerState,\n    progress,\n    showOnStart = true,\n    showOnLoad = false,\n    sliderStyle,\n    hideSeekbar = false,\n    toolbarStyle = {},\n  } = props;\n\n  // Determine initial opacity based on showOnStart\n  const initialOpacity = showOnStart ? 1 : 0;\n  const opacity = useSharedValue(initialOpacity);\n  const [isVisible, setIsVisible] = useState(showOnStart);\n\n  // Fade out controls after a delay\n  const fadeOutControls = useCallback(\n    (delay = 0) => {\n      opacity.value = withDelay(\n        delay,\n        withTiming(\n          0,\n          {\n            duration: 300,\n          },\n          (finished: boolean) => {\n            if (finished) {\n              runOnJS(setIsVisible)(false);\n            }\n          },\n        ),\n      );\n    },\n    [opacity],\n  );\n\n  // Fade in controls and optionally loop fade out\n  const fadeInControls = useCallback(\n    (loop = true) => {\n      runOnJS(setIsVisible)(true);\n      opacity.value = withTiming(\n        1,\n        {\n          duration: 300,\n        },\n        () => {\n          if (loop) {\n            runOnJS(fadeOutControls)(fadeOutDelay);\n          }\n        },\n      );\n    },\n    [opacity, fadeOutControls, fadeOutDelay],\n  );\n\n  // Toggle controls visibility\n  const toggleControls = useCallback(() => {\n    const currentOpacity = opacity.value;\n    if (currentOpacity > 0.5) {\n      fadeOutControls();\n    } else {\n      fadeInControls();\n    }\n  }, [opacity, fadeOutControls, fadeInControls]);\n\n  // Handle showOnLoad prop changes\n  useEffect(() => {\n    if (showOnLoad) {\n      if (isLoading) fadeInControls();\n      else fadeOutControls();\n    }\n  }, [isLoading, showOnLoad]);\n\n  // Replay button handler\n  const onReplay = useCallback(() => {\n    fadeOutControls(fadeOutDelay);\n    onReplayCallback();\n  }, [fadeOutControls, fadeOutDelay, onReplayCallback]);\n\n  // Cancel any ongoing animations and make controls fully visible\n  const cancelAnimation = useCallback(() => {\n    opacity.value = withTiming(1, { duration: 0 });\n    runOnJS(setIsVisible)(true);\n  }, [opacity]);\n\n  // Pause/play button handler\n  const onPause = useCallback(() => {\n    const { PLAYING, PAUSED, ENDED } = PLAYER_STATES;\n    switch (playerState) {\n      case PLAYING: {\n        cancelAnimation();\n        break;\n      }\n      case PAUSED: {\n        fadeOutControls(fadeOutDelay);\n        break;\n      }\n      case ENDED:\n        break;\n    }\n\n    const newPlayerState = playerState === PLAYING ? PAUSED : PLAYING;\n    props.onPaused(newPlayerState);\n  }, [playerState, props, cancelAnimation, fadeOutControls, fadeOutDelay]);\n\n  // Animated style for controls opacity\n  const animatedStyle = useAnimatedStyle(() => ({\n    opacity: opacity.value,\n  }));\n\n  return (\n    <View style={[styles.container, containerStyle, { flex: 1 }]}>\n      {/* Touchable layer always active */}\n      <TouchableWithoutFeedback onPress={toggleControls}>\n        <View style={styles.touchableArea} />\n      </TouchableWithoutFeedback>\n\n      {/* Controls overlay */}\n      {isVisible && (\n        <TouchableWithoutFeedback onPress={toggleControls}>\n          {/* @ts-ignore: Suppressing TS2322 error */}\n          <Animated.View style={[animatedStyle, styles.controlsOverlay]}>\n            <View style={[styles.controlsRow, styles.toolbarRow, toolbarStyle]}>\n              {children}\n            </View>\n            <Controls\n              onPause={onPause}\n              onReplay={onReplay}\n              isLoading={isLoading}\n              mainColor={mainColor}\n              playerState={playerState}\n            />\n            <Slider\n              progress={progress}\n              duration={duration}\n              mainColor={mainColor}\n              onFullScreen={onFullScreen}\n              playerState={playerState}\n              onSeek={onSeek}\n              onSeeking={onSeeking}\n              onPause={onPause}\n              customSliderStyle={sliderStyle}\n              hideSeekbar={hideSeekbar}\n            />\n          </Animated.View>\n        </TouchableWithoutFeedback>\n      )}\n    </View>\n  );\n};\n\n// Attach Toolbar to MediaControls\nMediaControls.Toolbar = Toolbar;\n\nexport default MediaControls;\n"],"names":["containerBackgroundColor","playButtonBorderColor","white","StyleSheet","create","container","alignItems","bottom","flexDirection","justifyContent","left","paddingHorizontal","paddingVertical","position","right","top","controlsRow","alignSelf","flex","fullScreenContainer","paddingLeft","playButton","borderColor","borderRadius","borderWidth","height","width","playIcon","resizeMode","progressColumnContainer","progressContainer","marginBottom","progressSlider","replayIcon","thumb","backgroundColor","timeRow","timerLabel","color","fontSize","timerLabelsContainer","toolbar","toolbarRow","track","controlsOverlay","_extends","absoluteFillObject","padding","touchableArea","PLAYER_STATES","humanizeVideoDuration","seconds","_ref","begin","end","date","Date","setSeconds","toISOString","substr","getPlayerStateIcon","playerState","PAUSED","require","PLAYING","ENDED","Controls","props","isLoading","mainColor","onReplay","onPause","icon","pressAction","content","React","ActivityIndicator","size","TouchableOpacity","style","styles","onPress","accessibilityLabel","accessibilityHint","Image","source","View","fullScreenImage","Slider","customSliderStyle","duration","onFullScreen","progress","hideSeekbar","containerStyle","seekVideo","value","onSeek","Text","RNSlider","marginTop","Platform","OS","onSlidingComplete","maximumValue","Math","floor","thumbImage","minimumTrackTintColor","maximumTrackTintColor","Boolean","Toolbar","children","MediaControls","_props$containerStyle","_props$fadeOutDelay","fadeOutDelay","_props$isLoading","_props$mainColor","onReplayCallback","onSeeking","_props$showOnStart","showOnStart","_props$showOnLoad","showOnLoad","sliderStyle","_props$hideSeekbar","_props$toolbarStyle","toolbarStyle","initialOpacity","opacity","useSharedValue","_useState","useState","isVisible","setIsVisible","fadeOutControls","useCallback","delay","withDelay","withTiming","finished","runOnJS","fadeInControls","loop","toggleControls","currentOpacity","useEffect","cancelAnimation","newPlayerState","onPaused","animatedStyle","useAnimatedStyle","TouchableWithoutFeedback","Animated"],"mappings":"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"}