"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,r=require("react"),n=e(r),o=require("react-native"),a=require("react-native-reanimated"),i=e(a),l=e(require("@react-native-community/slider")),s=o.StyleSheet.create({container:{alignItems:"center",backgroundColor:"rgba(45, 59, 62, 0.4)",bottom:0,flexDirection:"column",justifyContent:"space-between",left:0,paddingHorizontal:20,paddingVertical:13,position:"absolute",right:0,top:0},controlsRow:{alignItems:"center",alignSelf:"stretch",flex:1,justifyContent:"center"},fullScreenContainer:{alignItems:"center",alignSelf:"stretch",justifyContent:"center",paddingLeft:20},playButton:{alignItems:"center",borderColor:"rgba(255,255,255,0.5)",borderRadius:3,borderWidth:1.5,height:50,justifyContent:"center",width:50},playIcon:{height:22,resizeMode:"contain",width:22},progressColumnContainer:{flex:1},progressContainer:{flexDirection:"row",justifyContent:"flex-end",marginBottom:-25},progressSlider:{alignSelf:"stretch"},replayIcon:{height:20,resizeMode:"stretch",width:25},thumb:{backgroundColor:"#fff",borderRadius:50,borderWidth:3,height:20,width:20},timeRow:{alignSelf:"stretch"},timerLabel:{color:"#fff",fontSize:12},timerLabelsContainer:{alignSelf:"stretch",flexDirection:"row",justifyContent:"space-between",marginBottom:-7},toolbar:{flexDirection:"row",flex:1,justifyContent:"flex-end"},toolbarRow:{alignItems:"flex-start",flexDirection:"row",justifyContent:"flex-start"},track:{borderRadius:1,height:5}});(t=exports.PLAYER_STATES||(exports.PLAYER_STATES={}))[t.PLAYING=0]="PLAYING",t[t.PAUSED=1]="PAUSED",t[t.ENDED=2]="ENDED";var c=function(e){var t=e>=3600?[11,8]:[14,5],r=t[0],n=t[1],o=new Date(0);return o.setSeconds(e),o.toISOString().substr(r,n)},u=function(e){var t=e.isLoading,r=e.mainColor,a=e.playerState,i=e.onReplay,l=e.onPause,c=function(e){switch(e){case exports.PLAYER_STATES.PAUSED:return require("./assets/ic_play.png");case exports.PLAYER_STATES.PLAYING:return require("./assets/ic_pause.png");case exports.PLAYER_STATES.ENDED:return require("./assets/ic_replay.png");default:return null}}(a),u=a===exports.PLAYER_STATES.ENDED?i:l,d=t?n.createElement(o.ActivityIndicator,{size:"large",color:"#FFF"}):n.createElement(o.TouchableOpacity,{style:[s.playButton,{backgroundColor:r}],onPress:u,accessibilityLabel:exports.PLAYER_STATES.PAUSED?"Tap to Play":"Tap to Pause",accessibilityHint:"Plays and Pauses the Video"},n.createElement(o.Image,{source:c,style:s.playIcon}));return n.createElement(o.View,{style:[s.controlsRow]},d)},d=require("./assets/ic_fullscreen.png"),S=function(e){var t=e.customSliderStyle,r=e.duration,a=e.mainColor,i=e.onFullScreen,u=e.onPause,S=e.progress,f=e.hideSeekbar;return n.createElement(o.View,{style:[s.controlsRow,s.progressContainer,(null==t?void 0:t.containerStyle)||{}]},n.createElement(o.View,{style:s.progressColumnContainer},!f&&n.createElement(o.View,{style:[s.timerLabelsContainer]},n.createElement(o.Text,{style:s.timerLabel},c(S)),n.createElement(o.Text,{style:s.timerLabel},c(r))),!f&&n.createElement(l,{style:[s.progressSlider,{marginTop:"ios"==o.Platform.OS?4:10}],onValueChange:function(t){var r=e.playerState;(0,e.onSeeking)(t),r!==exports.PLAYER_STATES.PAUSED&&u()},onSlidingComplete:function(t){e.onSeek(t),u()},maximumValue:Math.floor(r),thumbImage:"ios"==o.Platform.OS?require("./assets/thumb.png"):require("./assets/thumb_android.png"),value:Math.floor(S),minimumTrackTintColor:a,maximumTrackTintColor:"#AEB3B7"})),Boolean(i)&&n.createElement(o.TouchableOpacity,{style:s.fullScreenContainer,onPress:i},n.createElement(o.Image,{source:d})))},f=function(e){var t=e.children,l=e.containerStyle,c=void 0===l?{}:l,d=e.duration,f=e.fadeOutDelay,m=void 0===f?5e3:f,g=e.isLoading,p=void 0!==g&&g,y=e.mainColor,E=void 0===y?"rgba(12, 83, 175, 0.9)":y,h=e.onFullScreen,b=e.onReplay,C=e.onSeek,T=e.onSeeking,P=e.playerState,v=e.progress,w=e.showOnStart,A=e.showOnLoad,x=void 0!==A&&A,L=e.sliderStyle,R=e.hideSeekbar,k=void 0!==R&&R,D=e.toolbarStyle,I=void 0===D?{}:D,_=a.useSharedValue((void 0===w||w?{initialOpacity:1}:{initialOpacity:0}).initialOpacity),Y=r.useCallback((function(e){void 0===e&&(e=0),_.value=a.withDelay(e,a.withTiming(0,{duration:300}))}),[_]),O=r.useCallback((function(e){void 0===e&&(e=!0),_.value=a.withTiming(1,{duration:300},(function(){e&&a.runOnJS(Y)(m)}))}),[_,Y,m]);r.useEffect((function(){Y(m)}),[Y,m]),r.useEffect((function(){x&&(console.log("badddddd",p,x),p&&j(),p||j())}),[p,x]),r.useEffect((function(){console.log("opacity",_.value)}),[_.value]);var V=r.useCallback((function(){var t=e.playerState,r=e.onPaused,n=exports.PLAYER_STATES.PLAYING,o=exports.PLAYER_STATES.PAUSED;switch(t){case n:_.value=a.withTiming(1,{duration:0});break;case o:Y(m)}return r(t===n?o:n)}),[e,Y,m]),j=r.useCallback((function(){console.log("pressed"),1===_.value?Y():O()}),[_,Y,O]),q=a.useAnimatedStyle((function(){return{opacity:_.value}}));return n.createElement(o.TouchableWithoutFeedback,{style:{backgroundColor:"red",height:"100%"},onPress:j},n.createElement(i.View,{style:[s.container,c,q]},n.createElement(o.View,{style:[s.container,c]},n.createElement(o.View,{style:[s.controlsRow,s.toolbarRow,I]},t),n.createElement(u,{onPause:V,onReplay:function(){Y(m),b()},isLoading:p,mainColor:E,playerState:P}),n.createElement(S,{progress:v,duration:d,mainColor:E,onFullScreen:h,playerState:P,onSeek:C,onSeeking:T,onPause:V,customSliderStyle:L,hideSeekbar:k}))))};f.Toolbar=function(e){return n.createElement(n.Fragment,null,e.children)},exports.default=f;
//# sourceMappingURL=react-native-media-controls.cjs.production.min.js.map
