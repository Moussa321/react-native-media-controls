"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),r=e(t),n=require("react-native"),o=require("react-native-reanimated"),a=e(o),i=e(require("@react-native-community/slider"));function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var s,c=n.StyleSheet.create({container:{alignItems:"center",bottom:0,flexDirection:"column",justifyContent:"space-between",left:0,paddingHorizontal:20,paddingVertical:13,position:"absolute",right:0,top:0},controlsRow:{alignItems:"center",alignSelf:"stretch",flex:1,justifyContent:"center"},fullScreenContainer:{alignItems:"center",alignSelf:"stretch",justifyContent:"center",paddingLeft:20},playButton:{alignItems:"center",borderColor:"rgba(255,255,255,0.5)",borderRadius:3,borderWidth:1.5,height:50,justifyContent:"center",width:50},playIcon:{height:22,resizeMode:"contain",width:22},progressColumnContainer:{flex:1},progressContainer:{flexDirection:"row",justifyContent:"flex-end",marginBottom:-25},progressSlider:{alignSelf:"stretch"},replayIcon:{height:20,resizeMode:"stretch",width:25},thumb:{backgroundColor:"#fff",borderRadius:50,borderWidth:3,height:20,width:20},timeRow:{alignSelf:"stretch"},timerLabel:{color:"#fff",fontSize:12},timerLabelsContainer:{alignSelf:"stretch",flexDirection:"row",justifyContent:"space-between",marginBottom:-7},toolbar:{flexDirection:"row",flex:1,justifyContent:"flex-end"},toolbarRow:{alignItems:"flex-start",flexDirection:"row",justifyContent:"flex-start"},track:{borderRadius:1,height:5},controlsOverlay:l({},n.StyleSheet.absoluteFillObject,{justifyContent:"space-between",backgroundColor:"rgba(45, 59, 62, 0.4)",padding:10}),touchableArea:l({},n.StyleSheet.absoluteFillObject)});(s=exports.PLAYER_STATES||(exports.PLAYER_STATES={}))[s.PLAYING=0]="PLAYING",s[s.PAUSED=1]="PAUSED",s[s.ENDED=2]="ENDED";var u=function(e){var t=e>=3600?[11,8]:[14,5],r=t[0],n=t[1],o=new Date(0);return o.setSeconds(e),o.toISOString().substr(r,n)},d=function(e){var t=e.isLoading,o=e.mainColor,a=e.playerState,i=e.onReplay,l=e.onPause,s=function(e){switch(e){case exports.PLAYER_STATES.PAUSED:return require("./assets/ic_play.png");case exports.PLAYER_STATES.PLAYING:return require("./assets/ic_pause.png");case exports.PLAYER_STATES.ENDED:return require("./assets/ic_replay.png");default:return null}}(a),u=a===exports.PLAYER_STATES.ENDED?i:l,d=t?r.createElement(n.ActivityIndicator,{size:"large",color:"#FFF"}):r.createElement(n.TouchableOpacity,{style:[c.playButton,{backgroundColor:o}],onPress:u,accessibilityLabel:exports.PLAYER_STATES.PAUSED?"Tap to Play":"Tap to Pause",accessibilityHint:"Plays and Pauses the Video"},r.createElement(n.Image,{source:s,style:c.playIcon}));return r.createElement(n.View,{style:[c.controlsRow]},d)},S=require("./assets/ic_fullscreen.png"),m=function(e){var t=e.customSliderStyle,o=e.duration,a=e.mainColor,l=e.onFullScreen,s=e.onPause,d=e.progress,m=e.hideSeekbar;return r.createElement(n.View,{style:[c.controlsRow,c.progressContainer,(null==t?void 0:t.containerStyle)||{}]},r.createElement(n.View,{style:c.progressColumnContainer},!m&&r.createElement(n.View,{style:[c.timerLabelsContainer]},r.createElement(n.Text,{style:c.timerLabel},u(d)),r.createElement(n.Text,{style:c.timerLabel},u(o))),!m&&r.createElement(i,{style:[c.progressSlider,{marginTop:"ios"==n.Platform.OS?4:10}],onSlidingComplete:function(t){e.onSeek(t),s()},maximumValue:Math.floor(o),thumbImage:"ios"==n.Platform.OS?require("./assets/thumb.png"):require("./assets/thumb_android.png"),value:Math.floor(d),minimumTrackTintColor:a,maximumTrackTintColor:"#AEB3B7"})),Boolean(l)&&r.createElement(n.TouchableOpacity,{style:c.fullScreenContainer,onPress:l},r.createElement(n.Image,{source:S})))},f=function(e){var i=e.children,l=e.containerStyle,s=void 0===l?{}:l,u=e.duration,S=e.fadeOutDelay,f=void 0===S?5e3:S,y=e.isLoading,b=void 0!==y&&y,g=e.mainColor,p=void 0===g?"rgba(12, 83, 175, 0.9)":g,h=e.onFullScreen,E=e.onReplay,C=e.onSeek,v=e.onSeeking,w=e.playerState,P=e.progress,T=e.showOnStart,A=void 0===T||T,x=e.showOnLoad,L=void 0!==x&&x,k=e.sliderStyle,R=e.hideSeekbar,D=void 0!==R&&R,O=e.toolbarStyle,I=void 0===O?{}:O,_=o.useSharedValue(A?1:0),j=t.useState(A),Y=j[0],V=j[1],F=t.useCallback((function(e){void 0===e&&(e=0),_.value=o.withDelay(e,o.withTiming(0,{duration:300},(function(e){e&&o.runOnJS(V)(!1)})))}),[_]),q=t.useCallback((function(e){void 0===e&&(e=!0),o.runOnJS(V)(!0),_.value=o.withTiming(1,{duration:300},(function(){e&&o.runOnJS(F)(f)}))}),[_,F,f]),N=t.useCallback((function(){_.value>.5?F():q()}),[_,F,q]);t.useEffect((function(){L&&(b?q():F())}),[b,L]);var B=t.useCallback((function(){F(f),E()}),[F,f,E]),z=t.useCallback((function(){_.value=o.withTiming(1,{duration:0}),o.runOnJS(V)(!0)}),[_]),M=t.useCallback((function(){var t=exports.PLAYER_STATES.PLAYING,r=exports.PLAYER_STATES.PAUSED;switch(w){case t:z();break;case r:F(f)}e.onPaused(w===t?r:t)}),[w,e,z,F,f]),U=o.useAnimatedStyle((function(){return{opacity:_.value}}));return r.createElement(n.View,{style:[c.container,s,{flex:1}]},r.createElement(n.TouchableWithoutFeedback,{onPress:N},r.createElement(n.View,{style:c.touchableArea})),Y&&r.createElement(n.TouchableWithoutFeedback,{onPress:N},r.createElement(a.View,{style:[U,c.controlsOverlay]},r.createElement(n.View,{style:[c.controlsRow,c.toolbarRow,I]},i),r.createElement(d,{onPause:M,onReplay:B,isLoading:b,mainColor:p,playerState:w}),r.createElement(m,{progress:P,duration:u,mainColor:p,onFullScreen:h,playerState:w,onSeek:C,onSeeking:v,onPause:M,customSliderStyle:k,hideSeekbar:D}))))};f.Toolbar=function(e){return r.createElement(r.Fragment,null,e.children)},exports.default=f;
//# sourceMappingURL=react-native-media-controls.cjs.production.min.js.map
