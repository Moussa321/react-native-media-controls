"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,n=require("react"),r=e(n),i=require("react-native"),o=e(require("@react-native-community/slider")),a=i.StyleSheet.create({container:{alignItems:"center",backgroundColor:"rgba(45, 59, 62, 0.4)",bottom:0,flex:1,flexDirection:"column",justifyContent:"space-between",left:0,paddingHorizontal:20,paddingVertical:13,position:"absolute",right:0,top:0},controlsRow:{alignItems:"center",alignSelf:"stretch",flex:1,justifyContent:"center"},fullScreenContainer:{alignItems:"center",alignSelf:"stretch",justifyContent:"center",paddingLeft:20},playButton:{alignItems:"center",borderColor:"rgba(255,255,255,0.5)",borderRadius:3,borderWidth:1.5,height:50,justifyContent:"center",width:50},playIcon:{height:22,resizeMode:"contain",width:22},progressColumnContainer:{flex:1},progressContainer:{flexDirection:"row",justifyContent:"flex-end",marginBottom:-25},progressSlider:{alignSelf:"stretch"},replayIcon:{height:20,resizeMode:"stretch",width:25},thumb:{backgroundColor:"#fff",borderRadius:50,borderWidth:3,height:20,width:20},timeRow:{alignSelf:"stretch"},timerLabel:{color:"#fff",fontSize:12},timerLabelsContainer:{alignSelf:"stretch",flexDirection:"row",justifyContent:"space-between",marginBottom:-7},toolbar:{flexDirection:"row",flex:1,justifyContent:"flex-end"},toolbarRow:{alignItems:"flex-start",flexDirection:"row",justifyContent:"flex-start"},track:{borderRadius:1,height:5}});(t=exports.PLAYER_STATES||(exports.PLAYER_STATES={}))[t.PLAYING=0]="PLAYING",t[t.PAUSED=1]="PAUSED",t[t.ENDED=2]="ENDED";var l=function(e){var t=e>=3600?[11,8]:[14,5],n=t[0],r=t[1],i=new Date(0);return i.setSeconds(e),i.toISOString().substr(n,r)},s=function(e){var t=e.isLoading,n=e.mainColor,o=e.playerState,l=e.onReplay,s=e.onPause,c=function(e){switch(e){case exports.PLAYER_STATES.PAUSED:return require("./assets/ic_play.png");case exports.PLAYER_STATES.PLAYING:return require("./assets/ic_pause.png");case exports.PLAYER_STATES.ENDED:return require("./assets/ic_replay.png");default:return null}}(o),u=o===exports.PLAYER_STATES.ENDED?l:s,d=t?r.createElement(i.ActivityIndicator,{size:"large",color:"#FFF"}):r.createElement(i.TouchableOpacity,{style:[a.playButton,{backgroundColor:n}],onPress:u,accessibilityLabel:exports.PLAYER_STATES.PAUSED?"Tap to Play":"Tap to Pause",accessibilityHint:"Plays and Pauses the Video"},r.createElement(i.Image,{source:c,style:a.playIcon}));return r.createElement(i.View,{style:[a.controlsRow]},d)},c=require("./assets/ic_fullscreen.png"),u=function(e){var t=e.customSliderStyle,n=e.duration,s=e.mainColor,u=e.onFullScreen,d=e.onPause,m=e.progress,f=e.hideSeekbar;return r.createElement(i.View,{style:[a.controlsRow,a.progressContainer,(null==t?void 0:t.containerStyle)||{}]},r.createElement(i.View,{style:a.progressColumnContainer},!f&&r.createElement(i.View,{style:[a.timerLabelsContainer]},r.createElement(i.Text,{style:a.timerLabel},l(m)),r.createElement(i.Text,{style:a.timerLabel},l(n))),!f&&r.createElement(o,{style:[a.progressSlider,{marginTop:"ios"==i.Platform.OS?4:10}],onValueChange:function(t){var n=e.playerState;(0,e.onSeeking)(t),n!==exports.PLAYER_STATES.PAUSED&&d()},onSlidingComplete:function(t){e.onSeek(t),d()},maximumValue:Math.floor(n),thumbImage:"ios"==i.Platform.OS?require("./assets/thumb.png"):require("./assets/thumb_android.png"),value:Math.floor(m),minimumTrackTintColor:s,maximumTrackTintColor:"#AEB3B7"})),Boolean(u)&&r.createElement(i.TouchableOpacity,{style:a.fullScreenContainer,onPress:u},r.createElement(i.Image,{source:c})))},d=function(e){var t=e.children,o=e.containerStyle,l=void 0===o?{}:o,c=e.duration,d=e.fadeOutDelay,m=void 0===d?5e3:d,f=e.isLoading,S=void 0!==f&&f,p=e.mainColor,y=void 0===p?"rgba(12, 83, 175, 0.9)":p,g=e.onFullScreen,E=e.onReplay,b=e.onSeek,h=e.onSeeking,A=e.playerState,P=e.progress,T=e.showOnStart,v=e.showOnLoad,C=void 0!==v&&v,w=e.sliderStyle,x=e.hideSeekbar,L=void 0!==x&&x,D=e.toolbarStyle,R=void 0===D?{}:D,I=void 0===T||T?{initialOpacity:1,initialIsVisible:!0}:{initialOpacity:0,initialIsVisible:!1},k=I.initialIsVisible,V=n.useState(new i.Animated.Value(I.initialOpacity))[0],_=n.useState(k),Y=_[0],O=_[1];n.useEffect((function(){j(m)}),[]),n.useEffect((function(){C&&(S&&!Y&&q(),!S&&Y&&q())}),[S,C,Y]);var j=function(e){void 0===e&&(e=0),i.Animated.timing(V,{toValue:0,duration:300,delay:e,useNativeDriver:!1}).start((function(e){e.finished&&O(!1)}))},N=function(){var t=e.playerState,n=e.onPaused,r=exports.PLAYER_STATES.PLAYING,i=exports.PLAYER_STATES.PAUSED;switch(t){case r:V.stopAnimation((function(){return O(!0)}));break;case i:j(m)}return n(t===r?i:r)},q=function(){V.stopAnimation((function(e){return O(!!e),e?j():(void 0===t&&(t=!0),O(!0),void i.Animated.timing(V,{toValue:1,duration:300,delay:0,useNativeDriver:!1}).start((function(){t&&j(m)})));var t}))};return r.createElement(i.TouchableWithoutFeedback,{accessible:!1,onPress:q},r.createElement(i.Animated.View,{style:[a.container,l,{opacity:V}]},Y&&r.createElement(i.View,{style:[a.container,l]},r.createElement(i.View,{style:[a.controlsRow,a.toolbarRow,R]},t),r.createElement(s,{onPause:N,onReplay:function(){j(m),E()},isLoading:S,mainColor:y,playerState:A}),r.createElement(u,{progress:P,duration:c,mainColor:y,onFullScreen:g,playerState:A,onSeek:b,onSeeking:h,onPause:N,customSliderStyle:w,hideSeekbar:L}))))};d.Toolbar=function(e){return r.createElement(r.Fragment,null,e.children)},exports.default=d;
//# sourceMappingURL=react-native-media-controls.cjs.production.min.js.map
